<!DOCTYPE html>
<html>
  <head>
      <title>QA Workshop</title>
      <link rel="stylesheet" href="Default.css?v1.0" />
      <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
      <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
      <script>
        //these are individual field edits, which will trigger when someone exits the field.
        $(function () {
            $( "#UserName" ).on("focusout", function() {
                var val = this.value;
                var pattern = new RegExp('^[A-Za-z0-9._\\-\\s\\@]{3,25}$');
                if (!pattern.test(val))  $('#UserNameMsg').text("Username can be 3 to 25 alphanumeric characters, including characters @.-_");
                else $('#UserNameMsg').text("");
            });
            $( "#Password" ).on("focusout", function() {
                var val = this.value;
                var pattern = new RegExp('^[A-Za-z0-9]{7,25}$');
                if (!pattern.test(val))  $('#PasswordMsg').text("Password must be 7 to 25 alphanumeric characters");
                else $('#PasswordMsg').text("");
            });
            $( "#FirstName" ).on("focusout", function() {
                var val = this.value;
                var pattern = new RegExp('^[A-Za-z0-9\\-]{1,25}$');
                if (!pattern.test(val))  $('#FirstNameMsg').text("First Name can be up to 25 alphabetic characters");
                else $('#FirstNameMsg').text("");
            });
            $( "#LastName" ).on("focusout", function() {
                var val = this.value;
                var pattern = new RegExp('^[A-Za-z/0-9\\s]{2,35}$');
                if (!pattern.test(val))  $('#LastNameMsg').text("Last Name must be 2 to 35 characters");
                else $('#LastNameMsg').text("");
            });
            $( "#Email" ).on("focusout", function() {
                var val = this.value;
                if (val == '')
                     $('#EmailMsg').text("Email address is required");
                     else $('#EmailMsg').text("");
            });
            
            //this will show/hide the bug list
            $("#BugListToggle").click(function(){
                $("#BugList").toggle();
                if ($("#BugListToggle").text() == "Hide the bug list") $("#BugListToggle").text("Show the bug list");
                else $("#BugListToggle").text("Hide the bug list");
            });
            
            //this will check all fields when Create Account is clicked, and give a message if successful
            $("#CreateButton").click(function(){
                //first, check required fields
                if ($("#UserName").val() == "") $("#UserNameMsg").text("User Name is required");
                if ($("#Password").val() == "") $("#PasswordMsg").text("Password is required");
                if ($("#FirstName").val() == "") $("#FirstNameMsg").text("First Name is required");
                if ($("#LastName").val() == "") $("#LastNameMsg").text("Last Name is required.") ;
                if ($("#Email").val() == "") $("#EmailMsg").text("Email address is required");
              
                //next, register user if no errors found
                if (($("#UserNameMsg").text() == "") & ($("#PasswordMsg").text() == "") & ($("#FirstNameMsg").text() == "")
                    & ($("#LastNameMsg").text() == "") & ($("#BirthdateMsg").text() == "") & ($("#EmailMsg").text() == "")){
                    var s = 'wtf';
                    $("#SummaryMe").html(s);
                    $("#SummaryMe").html('<p>Thank you for registering, ' + $('#FirstNamex').val() + ' ' + $('#LastName').val() + '</p>');
                    $("#SummaryMe").dialog("open");
                }
                //else, give them a message if errors were found
                else alert("Please fix the your entries");
            });
            
            $('#TermsLink').click(function(){
                if(navigator.userAgent.indexOf("Chrome") != -1 )  $("#Terms").dialog("open");
                else alert("Undefined function");
            });
            $( "#SummaryMe" ).dialog({
                autoOpen: false,
                show: {
                    effect: "fade",
                    duration: 1000
                },
                hide: {
                    effect: "fade",
                    duration: 1000
                }
            });
            $( "#Terms" ).dialog({
                autoOpen: false                
            });
            
            $('#T1').click(function(){
                $(this).text(' Security Testing').removeClass('bugType').addClass('bugTypeText');
            });
            $('#T2').click(function(){
                $(this).text(' Security Testing').removeClass('bugType').addClass('bugTypeText');
            });
            $('#T3').click(function(){
                $(this).text(' System/Functional Testing').removeClass('bugType').addClass('bugTypeText');
            });
            $('#T4').click(function(){
                $(this).text(' System/Functional Testing').removeClass('bugType').addClass('bugTypeText');
            });
            $('#T5').click(function(){
                $(this).text(' System/Functional Testing').removeClass('bugType').addClass('bugTypeText');
            });
            $('#T6').click(function(){
                $(this).text(' System/Functional Testing').removeClass('bugType').addClass('bugTypeText');
            });
            $('#T7').click(function(){
                $(this).text(' Compatibility Testing').removeClass('bugType').addClass('bugTypeText');
            });
            $('#T8').click(function(){
                $(this).text(' Usability Testing').removeClass('bugType').addClass('bugTypeText');
            });
            $('#T9').click(function(){
                $(this).text(' Usability Testing').removeClass('bugType').addClass('bugTypeText');
            });
            $('#T10').click(function(){
                $(this).text(' Usability Testing').removeClass('bugType').addClass('bugTypeText');
            });
           

        });
      </script>
</head>
<body>

    <object name="Top" type="text/html" data="Nav.html" style="width: 100%"></object>
    <section>
        
        <h1>QA Workshop: Find the Bugs</h1>
        <div style="float: left;">
            <p class="instruction">~ Test this page below, and find the bugs.</p>
            <div class="leftPageBox" id="FirstPage" >
                <h3>Create an account</h3>
                <div class="error" style="width:85%; text-align: right; ">* required</div>
                <div class="labeler">User Name<span class="req">*</span></div>
                <div><input type="text" id="UserName" focus tabindex='0' /><span id="UserNameMsg" class="error"></span></div>
                <div class="labeler">Password<span class="req">*</span></div>
                <div><input type="text" id="Password" tabindex='1'/><span id="PasswordMsg" class="error"></span></div>
                <br/><br>
                <div class="labeler">First Name<span class="req">*</span></div>
                <div><input type="text" id="FirstName" tabindex='3'/><span id="FirstNameMsg" class="error"></span></div>
                <div class="labeler">Last Name<span class="req">*</span></div>
                <div><input type="text" id="LastName" tabindex='2'/></div><div id="LastNameMsg" class="error"></div>
                <div class="labeler">Birthdate</div>
                <div><input type="date" id="Birthdate" tabindex='4'/></div><div id="BirthdateMsg" class="error"></div>
                <div class="labeler">Email Address</div>
                <div><input type="text" id="Email" tabindex='5'/></div><div id="EmailMsg" class="error"></div>
                <br/>
                <p style="font-size: small;"><span class="fakeLink" id="TermsLink" tabindex='6'>Terms and Conditions</span> &nbsp;  &nbsp;  &nbsp;  &nbsp; <span><a href="Policy1.html" tabindex='7'>Privacy Policy</a></span></p>
                
                <input type="button" id="CreateButton" value="Create Account" tabindex='8'/>
            </div>
        </div>
        <div style="float: left; margin: 50px 20px 10px; text-align: left;  width: 500px;">
            <p id="BugListToggle" class="fakeLink" tabindex='11'>Show me the bug list</p>
            <div id="BugList" style="display: none; " ><br/>
                <p class="instruction">These are some of the bugs.  What others can you find?</p>
                <p class="instruction">For bug, can you
                 identify the type of testing that would catch this?</p>
                <ul id="BugListUl">
                    <li>User Name is allowing a space to be included.
                    <span id='T1' class='bugType'>Type?</span></li>
                    <li>Password is in clear text--this should be masked!  Also, the password rules are weak.<span id='T2' class='bugType'>Type?</span></li>
                    <li>First Name is allowing numbers, and it should not.  But it
                        does not allow spaces, and some people have two word names.<span id='T3' class='bugType'>Type?</span></li>
                    <li>Last Name is not allowing punctuation.  What about names like O'Malley,
                        Pinkett-Smith, or Jones, Jr.?<span id='T4' class='bugType'>Type?</span></li>
                    <li>Birthdate is allowing invalid dates, such as November 31.  It's also allowing future dates.<span id='T5' class='bugType'>Type?</span></li>
                    <li>Email is not marked as required with a red asterisk, but it is required.
                        And we should be checking for a properly formatted email address.<span id='T6' class='bugType'>Type?</span></li>
                    <li>The Terms and Conditions link only works in the Chrome browser, not in other browsers.<span id='T7' class='bugType'>Type?</span></li>
                    <li>The Privacy Policy link goes to a page that does not exist (404).<span id='T8' class='bugType'>Type?</span></li>
                    <li>If you tab though the fields, the First and Last names are out of order.[TBD!!]<span id='T9' class='bugType'>Type?</span> </li>
                    <li>When you register, the message has "undefined" where the first name should be.<span id='T10' class='bugType'>Type?</span></li>
                </ul>
            </div>
        </div>

    </section>
    <div style="clear: both;"></div>
    <div class="NextLink"><br/><br/>
            <a style="float:left;" href="Qa1.html" tabindex='9'>Back to Basic Concepts</a> &nbsp;
            <a style="float:right;" href="QaQuiz.html" tabindex='10'>Next: Quiz</a>
    </div>

    <div id="Terms">
            <h3>Terms and Conditions</h3>
            <p>You, as the user, promise to love this website.</p>
    </div>
    <p class="todo" style="clear: both">To Do:   Error messages should not wrap under the field, and Email message has bad positioning.</p>

    <p class="todo">
    </p>
    <div id="SummaryMe" ></div>

</body>
</html>